
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Mixer &#8212; TeNPy 0.5.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="shortcut icon" href="../_static/logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SingleSiteDMRGEngine" href="tenpy.algorithms.dmrg.SingleSiteDMRGEngine.html" />
    <link rel="prev" title="EngineFracture" href="tenpy.algorithms.dmrg.EngineFracture.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tenpy.algorithms.dmrg.SingleSiteDMRGEngine.html" title="SingleSiteDMRGEngine"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tenpy.algorithms.dmrg.EngineFracture.html" title="EngineFracture"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TeNPy 0.5.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" >Tenpy Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tenpy.algorithms.html" >algorithms</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="tenpy.algorithms.dmrg.html" accesskey="U">dmrg</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mixer">
<h1>Mixer<a class="headerlink" href="#mixer" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>full name: tenpy.algorithms.dmrg.Mixer</p></li>
<li><p>parent module: <a class="reference internal" href="tenpy.algorithms.dmrg.html#module-tenpy.algorithms.dmrg" title="tenpy.algorithms.dmrg"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tenpy.algorithms.dmrg</span></code></a></p></li>
<li><p>type: class</p></li>
</ul>
<dl class="class">
<dt id="tenpy.algorithms.dmrg.Mixer">
<em class="property">class </em><code class="sig-prename descclassname">tenpy.algorithms.dmrg.</code><code class="sig-name descname">Mixer</code><span class="sig-paren">(</span><em class="sig-param">mixer_params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tenpy/algorithms/dmrg.html#Mixer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tenpy.algorithms.dmrg.Mixer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class of a general Mixer.</p>
<p>Since DMRG performs only local updates of the state, it can get stuck in “local minima”,
in particular if the Hamiltonain is long-range – which is the case if one
maps a 2D system (“infinite cylinder”) to 1D – or if one wants to do single-site updates
(currently not implemented in TeNPy).
The idea of the mixer is to perturb the state with the terms of the Hamiltonian
which have contributions in both the “left” and “right” side of the system.
In that way, it adds fluctuation of the quantum numbers and non-zero contributions of the
long-range terms - leading to a significantly improved convergence of DMRG.</p>
<p>The strength of the perturbation is given by the <cite>amplitude</cite> of the mixer.
A good strategy is to choose an initially significant amplitude and let it decay until
the perturbation becomes completely irrelevant and the mixer gets disabled.</p>
<p>This original idea of the mixer was introduced in <a class="reference internal" href="../literature.html#white2005" id="id1"><span>[White2005]</span></a>.
<a class="reference internal" href="../literature.html#hubig2015" id="id2"><span>[Hubig2015]</span></a> discusses the mixer and provides an improved version.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>env</strong><span class="classifier"><a class="reference internal" href="tenpy.networks.mpo.MPOEnvironment.html#tenpy.networks.mpo.MPOEnvironment" title="tenpy.networks.mpo.MPOEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">MPOEnvironment</span></code></a></span></dt><dd><p>Environment for contraction <code class="docutils literal notranslate"><span class="pre">&lt;psi|H|psi&gt;</span></code> for later</p>
</dd>
<dt><strong>mixer_params</strong><span class="classifier">dict</span></dt><dd><p>Optional parameters as described in the following table.
Use <code class="docutils literal notranslate"><span class="pre">verbose&gt;0</span></code> to print the used parameters during runtime.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 10%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>key</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>amplitude</p></td>
<td><p>float</p></td>
<td><p>Initial strength of the mixer. (Should be &lt;&lt; 1.)</p></td>
</tr>
<tr class="row-odd"><td><p>decay</p></td>
<td><p>float</p></td>
<td><p>To slowly turn off the mixer, we divide <cite>amplitude</cite> by <cite>decay</cite>
after each sweep. (Should be &gt;= 1.)</p></td>
</tr>
<tr class="row-even"><td><p>disable_after</p></td>
<td><p>int</p></td>
<td><p>We disable the mixer completely after this number of sweeps.</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>amplitude</strong><span class="classifier">float</span></dt><dd><p>Current amplitude for mixing.</p>
</dd>
<dt><strong>decay</strong><span class="classifier">float</span></dt><dd><p>Factor by which <cite>amplitude</cite> is divided after each sweep.</p>
</dd>
<dt><strong>disable_after</strong><span class="classifier">int</span></dt><dd><p>The number of sweeps after which the mixer should be disabled.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">int</span></dt><dd><p>Level of output vebosity.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#tenpy.algorithms.dmrg.Mixer.perturb_svd" title="tenpy.algorithms.dmrg.Mixer.perturb_svd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">perturb_svd</span></code></a>(self, engine, theta, i0, …)</p></td>
<td><p>Perturb the wave function and perform an SVD with truncation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tenpy.algorithms.dmrg.Mixer.update_amplitude" title="tenpy.algorithms.dmrg.Mixer.update_amplitude"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_amplitude</span></code></a>(self, sweeps)</p></td>
<td><p>Update the amplitude, possibly disable the mixer.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tenpy.algorithms.dmrg.Mixer.update_amplitude">
<code class="sig-name descname">update_amplitude</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">sweeps</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tenpy/algorithms/dmrg.html#Mixer.update_amplitude"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tenpy.algorithms.dmrg.Mixer.update_amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the amplitude, possibly disable the mixer.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sweeps</strong><span class="classifier">int</span></dt><dd><p>The number of performed sweeps, to check if we need to disable the mixer.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>mixer</strong><span class="classifier"><a class="reference internal" href="#tenpy.algorithms.dmrg.Mixer" title="tenpy.algorithms.dmrg.Mixer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mixer</span></code></a> | None</span></dt><dd><p>Returns <cite>self</cite> if we should continue mixing, or <code class="docutils literal notranslate"><span class="pre">None</span></code>, if the mixer
should be disabled.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tenpy.algorithms.dmrg.Mixer.perturb_svd">
<code class="sig-name descname">perturb_svd</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">engine</em>, <em class="sig-param">theta</em>, <em class="sig-param">i0</em>, <em class="sig-param">update_LP</em>, <em class="sig-param">update_RP</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tenpy/algorithms/dmrg.html#Mixer.perturb_svd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tenpy.algorithms.dmrg.Mixer.perturb_svd" title="Permalink to this definition">¶</a></dt>
<dd><p>Perturb the wave function and perform an SVD with truncation.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>engine</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></span></dt><dd><p>The DMRG engine calling the mixer.</p>
</dd>
<dt><strong>theta</strong><span class="classifier"><a class="reference internal" href="tenpy.linalg.np_conserved.Array.html#tenpy.linalg.np_conserved.Array" title="tenpy.linalg.np_conserved.Array"><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></a></span></dt><dd><p>The optimized wave function, prepared for svd.</p>
</dd>
<dt><strong>i0</strong><span class="classifier">int</span></dt><dd><p>Site index; <cite>theta</cite> lives on <code class="docutils literal notranslate"><span class="pre">i0,</span> <span class="pre">i0+1</span></code>.</p>
</dd>
<dt><strong>update_LP</strong><span class="classifier">bool</span></dt><dd><p>Whether to calculate the next <code class="docutils literal notranslate"><span class="pre">env.LP[i0+1]</span></code>.</p>
</dd>
<dt><strong>update_RP</strong><span class="classifier">bool</span></dt><dd><p>Whether to calculate the next <code class="docutils literal notranslate"><span class="pre">env.RP[i0]</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>U</strong><span class="classifier"><a class="reference internal" href="tenpy.linalg.np_conserved.Array.html#tenpy.linalg.np_conserved.Array" title="tenpy.linalg.np_conserved.Array"><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></a></span></dt><dd><p>Left-canonical part of <cite>theta</cite>. Labels <code class="docutils literal notranslate"><span class="pre">'(vL.p0)',</span> <span class="pre">'vR'</span></code>.</p>
</dd>
<dt><strong>S</strong><span class="classifier">1D ndarray | 2D <a class="reference internal" href="tenpy.linalg.np_conserved.Array.html#tenpy.linalg.np_conserved.Array" title="tenpy.linalg.np_conserved.Array"><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></a></span></dt><dd><p>Without mixer just the singluar values of the array; with mixer it might be a general
matrix; see comment above.</p>
</dd>
<dt><strong>VH</strong><span class="classifier"><a class="reference internal" href="tenpy.linalg.np_conserved.Array.html#tenpy.linalg.np_conserved.Array" title="tenpy.linalg.np_conserved.Array"><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></a></span></dt><dd><p>Right-canonical part of <cite>theta</cite>. Labels <code class="docutils literal notranslate"><span class="pre">'vL',</span> <span class="pre">'(vR.p1)'</span></code>.</p>
</dd>
<dt><strong>err</strong><span class="classifier"><a class="reference internal" href="tenpy.algorithms.truncation.TruncationError.html#tenpy.algorithms.truncation.TruncationError" title="tenpy.algorithms.truncation.TruncationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TruncationError</span></code></a></span></dt><dd><p>The truncation error introduced.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="tenpy.algorithms.dmrg.EngineFracture.html"
                        title="previous chapter">EngineFracture</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tenpy.algorithms.dmrg.SingleSiteDMRGEngine.html"
                        title="next chapter">SingleSiteDMRGEngine</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Tenpy Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tenpy.algorithms.html">algorithms</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tenpy.algorithms.truncation.html">truncation</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="tenpy.algorithms.dmrg.html">dmrg</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.algorithms.mps_sweeps.html">mps_sweeps</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.algorithms.tebd.html">tebd</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.algorithms.tdvp.html">tdvp</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.algorithms.purification_tebd.html">purification_tebd</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.algorithms.network_contractor.html">network_contractor</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.algorithms.exact_diag.html">exact_diag</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.linalg.html">linalg</a></li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.models.html">models</a></li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.networks.html">networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.tools.html">tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.version.html">version</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tenpy.algorithms.dmrg.SingleSiteDMRGEngine.html" title="SingleSiteDMRGEngine"
             >next</a> |</li>
        <li class="right" >
          <a href="tenpy.algorithms.dmrg.EngineFracture.html" title="EngineFracture"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TeNPy 0.5.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" >Tenpy Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tenpy.algorithms.html" >algorithms</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="tenpy.algorithms.dmrg.html" >dmrg</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2019, TeNPy Developers.
      Last updated on Dec 19, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
    </div>
  </body>
</html>