
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>process &#8212; TeNPy 0.4.1 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="shortcut icon" href="../_static/logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="load_omp_library" href="tenpy.tools.process.load_omp_library.html" />
    <link rel="prev" title="vert_join" href="tenpy.tools.string.vert_join.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tenpy.tools.process.load_omp_library.html" title="load_omp_library"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tenpy.tools.string.vert_join.html" title="vert_join"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TeNPy 0.4.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" >Tenpy Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tenpy.tools.html" accesskey="U">tools</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="process">
<h1>process<a class="headerlink" href="#process" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>full name: tenpy.tools.process</p></li>
<li><p>parent module: <a class="reference internal" href="tenpy.tools.html#module-tenpy.tools" title="tenpy.tools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tenpy.tools</span></code></a></p></li>
<li><p>type: module</p></li>
</ul>
<p class="rubric">Functions</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="tenpy.tools.process.load_omp_library.html#tenpy.tools.process.load_omp_library" title="tenpy.tools.process.load_omp_library"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_omp_library</span></code></a>([libs, verbose])</p></td>
<td><p>Tries to load openMP library.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="tenpy.tools.process.memory_usage.html#tenpy.tools.process.memory_usage" title="tenpy.tools.process.memory_usage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">memory_usage</span></code></a>()</p></td>
<td><p>Return memory usage of the running python process.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="tenpy.tools.process.mkl_get_nthreads.html#tenpy.tools.process.mkl_get_nthreads" title="tenpy.tools.process.mkl_get_nthreads"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mkl_get_nthreads</span></code></a>()</p></td>
<td><p>wrapper around MKL <code class="docutils literal notranslate"><span class="pre">get_max_threads</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="tenpy.tools.process.mkl_set_nthreads.html#tenpy.tools.process.mkl_set_nthreads" title="tenpy.tools.process.mkl_set_nthreads"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mkl_set_nthreads</span></code></a>(n)</p></td>
<td><p>wrapper around MKL <code class="docutils literal notranslate"><span class="pre">set_num_threads</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="tenpy.tools.process.omp_get_nthreads.html#tenpy.tools.process.omp_get_nthreads" title="tenpy.tools.process.omp_get_nthreads"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omp_get_nthreads</span></code></a>()</p></td>
<td><p>wrapper around OpenMP <code class="docutils literal notranslate"><span class="pre">get_max_threads</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="tenpy.tools.process.omp_set_nthreads.html#tenpy.tools.process.omp_set_nthreads" title="tenpy.tools.process.omp_set_nthreads"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omp_set_nthreads</span></code></a>(n)</p></td>
<td><p>wrapper around OpenMP <code class="docutils literal notranslate"><span class="pre">set_nthreads</span></code>.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Module description</p>
<span class="target" id="module-tenpy.tools.process"></span><p>Tools to read out total memory usage and get/set the number of threads.</p>
<p>If your python is compiled against MKL (e.g. if you use <em>anaconda</em> as recommended in INSTALL),
it will by default use as many threads as CPU cores are available.
If you run a job on a cluster, you should limit this to the number of cores you reserved –
otherwise your colleagues might get angry…
A simple way to achieve this is to set a suitable enviornment variable before calling your
python program, e.g. on the linux bash <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">OMP_NUM_THREADS=4</span></code> for 4 threads.
(MKL used OpenMP and thus respects its settings.)</p>
<p>Alternatively, this module provides <a class="reference internal" href="tenpy.tools.process.omp_get_nthreads.html#tenpy.tools.process.omp_get_nthreads" title="tenpy.tools.process.omp_get_nthreads"><code class="xref py py-func docutils literal notranslate"><span class="pre">omp_get_nthreads()</span></code></a> and <a class="reference internal" href="tenpy.tools.process.omp_set_nthreads.html#tenpy.tools.process.omp_set_nthreads" title="tenpy.tools.process.omp_set_nthreads"><code class="xref py py-func docutils literal notranslate"><span class="pre">omp_set_nthreads()</span></code></a>,
which give their best to get and set the number of threads at runtime,
while still being failsave if the shared OpenMP library is not found.  In the latter case,
you might also try the equivalent <a class="reference internal" href="tenpy.tools.process.mkl_get_nthreads.html#tenpy.tools.process.mkl_get_nthreads" title="tenpy.tools.process.mkl_get_nthreads"><code class="xref py py-func docutils literal notranslate"><span class="pre">mkl_get_nthreads()</span></code></a> and <a class="reference internal" href="tenpy.tools.process.mkl_set_nthreads.html#tenpy.tools.process.mkl_set_nthreads" title="tenpy.tools.process.mkl_set_nthreads"><code class="xref py py-func docutils literal notranslate"><span class="pre">mkl_set_nthreads()</span></code></a>.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="tenpy.tools.string.vert_join.html"
                        title="previous chapter">vert_join</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tenpy.tools.process.load_omp_library.html"
                        title="next chapter">load_omp_library</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Tenpy Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tenpy.algorithms.html">algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.linalg.html">linalg</a></li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.models.html">models</a></li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.networks.html">networks</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tenpy.tools.html">tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tenpy.tools.params.html">params</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.tools.misc.html">misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.tools.math.html">math</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.tools.fit.html">fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.tools.string.html">string</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">process</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenpy.tools.optimization.html">optimization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tenpy.version.html">version</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tenpy.tools.process.load_omp_library.html" title="load_omp_library"
             >next</a> |</li>
        <li class="right" >
          <a href="tenpy.tools.string.vert_join.html" title="vert_join"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TeNPy 0.4.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" >Tenpy Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tenpy.tools.html" >tools</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2019, TeNPy Developers.
      Last updated on Aug 15, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.0.
    </div>
  </body>
</html>