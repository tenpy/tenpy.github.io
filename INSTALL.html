
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installation instructions &#8212; TeNPy 0.3.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="shortcut icon" href="_static/logo.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Literature" href="literature.html" />
    <link rel="prev" title="User Guide" href="userguide.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="literature.html" title="Literature"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="userguide.html" title="User Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">TeNPy 0.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="userguide.html" accesskey="U">User Guide</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation-instructions">
<h1>Installation instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="minimal-requirements">
<h2>Minimal Requirements<a class="headerlink" href="#minimal-requirements" title="Permalink to this headline">¶</a></h2>
<p>This code works with a minimal requirement of pure Python 3
and somewhat recent versions of <a class="reference external" href="http://www.numpy.org">NumPy</a> and <a class="reference external" href="http://www.scipy.org">SciPy</a>.
(If you have numpy &gt;= 1.11.1 and scipy &gt;= 0.17.0, the code should run fine.)</p>
</div>
<div class="section" id="getting-the-source">
<h2>Getting the source<a class="headerlink" href="#getting-the-source" title="Permalink to this headline">¶</a></h2>
<p>The following instructions are for (some kind of) Linux, and tested on Ubuntu.
However, the code itself should work on other operating systems as well (in particular MacOS and Windows).</p>
<p>The offical repository is at <a class="reference external" href="https://github.com/tenpy/tenpy.git">https://github.com/tenpy/tenpy.git</a>.
To get the latest version of the code, you can clone it with <a class="reference external" href="https://git-scm.com/">Git</a> using the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/tenpy/tenpy.git $HOME/TeNPy
cd $HOME/TeNPy
</pre></div>
</div>
<p>Adjust <code class="docutils literal notranslate"><span class="pre">$HOME/TeNPy</span></code> to the path wherever you want to save the library.</p>
<p>Optionally, if you don’t want to contribute, you can checkout the latest stable release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span>   <span class="c1"># this prints the available version tags</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">v0</span><span class="o">.</span><span class="mf">3.0</span>  <span class="c1"># or whatever is the lastest stable version</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In case you don’t have Git, you can download the repository as a ZIP archive.
You can find under <a class="reference external" href="https://github.com/tenpy/tenpy/releases">releases</a>,
or the <a class="reference external" href="https://github.com/tenpy/tenpy/archive/master.zip">latest development version</a>.</p>
</div>
</div>
<div class="section" id="minimal-installation-including-tenpy-into-pythonpath">
<h2>Minimal installation: Including tenpy into PYTHONPATH<a class="headerlink" href="#minimal-installation-including-tenpy-into-pythonpath" title="Permalink to this headline">¶</a></h2>
<p>The python source is in the directory <cite>tenpy/</cite> of the repository.
This folder <cite>tenpy/</cite> should be placed in (one of the folders of) the environment variable
<a class="reference external" href="http://docs.python.org/2/using/cmdline.html#envvar-PYTHONPATH">PYTHONPATH</a>.
On Linux, you can simply do this with the following line in the terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PYTHONPATH=$HOME/TeNPy
</pre></div>
</div>
<p>(If you have already a path in this variable, separate the paths with a colon <code class="docutils literal notranslate"><span class="pre">:</span></code>.)
However, if you enter this in the terminal, it will only be temporary for the terminal session where you entered it.
To make it permanently, you can add the above line to the file <code class="docutils literal notranslate"><span class="pre">$HOME/.bashrc</span></code>.
You might need to restart the terminal session or need to relogin to force a reload of the <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>.</p>
<p>Whenever the path is set, you should be able to use the library from within python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tenpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tenpy</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="go">(0, 3, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tenpy</span><span class="o">.</span><span class="n">__full_version__</span><span class="p">)</span>
<span class="go">v0.3.0-57-gdfacc70 using python 3.5.2 |Intel Corporation| (default, Feb 12 2017, 04:02:50)</span>
<span class="go">[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] with numpy 1.13.3, scipy 1.0.0</span>
</pre></div>
</div>
<p>This should statement printes the current version of this TeNPy library as well as the versions of the used python, numpy and scipy libraries,
which might be different on your computer. It is a good idea to save this along with your data.</p>
<p>If you got a similar output as above: congratulations! You can now run the codes :)</p>
</div>
<div class="section" id="recommendation-for-optimization">
<h2>Recommendation for optimization<a class="headerlink" href="#recommendation-for-optimization" title="Permalink to this headline">¶</a></h2>
<p>If you want to run larger simulations, we recommend the use of Intels MKL.
It ships with a Lapack library, and uses optimization for Intel CPUs.
Moreover, it uses parallelization of the LAPACK/BLAS routines, which makes execution much faster.
As of now, the library itself supports no other way of parallelization.</p>
<p>If you don’t have a python version which is built against MKL,
we recommend using the <a class="reference external" href="https://www.continuum.io/downloads">anaconda</a> distribution, which ships with Intel MKL,
or directly <a class="reference external" href="https://software.intel.com/en-us/distribution-for-python/get-started">intelpython</a>.
Both are available for Linux, Mac and Windows; note that you don’t even need administrator rights to install it on linux.
Simply follow the (straight-forward) instructions of the web page for the installation.
After a successfull installation, if you run <code class="docutils literal notranslate"><span class="pre">python</span></code> interactively, the first output line should
state the python version and contain <code class="docutils literal notranslate"><span class="pre">Anaconda</span></code> or <code class="docutils literal notranslate"><span class="pre">intelpython</span></code>, respectively.
On Linux, make sure that <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> contains the <code class="docutils literal notranslate"><span class="pre">bin/</span></code> folder of the installation; you might want to adjust your
<code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> if necessary.</p>
<p>Once you managed to install conda, ensure that you have the needed packages with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">mkl</span> <span class="n">scipy</span> <span class="n">numpy</span>
</pre></div>
</div>
<p>Optional packages (see <a class="reference internal" href="#optional-requirements">Optional Requirements</a> below) can be installed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">matplotlib</span> <span class="n">sphinx</span> <span class="n">numpydoc</span> <span class="n">pip</span> <span class="n">nose</span> <span class="n">bottleneck</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">yapf</span>    <span class="c1"># (if you want to contribute)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">MKL uses different threads to parallelize various BLAS and LAPACK routines.
If you run the code on a cluster, make sure that you specify the number of used cores/threads correctly.
By default, MKL uses all the available CPUs, which might be in stark contrast than what you required from the
cluster. The easiest way to set the used threads is using the environment variable <cite>MKL_NUM_THREADS</cite> (or <cite>OMP_NUM_THREADS</cite>).
For a dynamic change of the used threads, you might want to look at <a class="reference internal" href="reference/tenpy.tools.process.html#module-tenpy.tools.process" title="tenpy.tools.process"><code class="xref py py-mod docutils literal notranslate"><span class="pre">process</span></code></a>.</p>
</div>
</div>
<div class="section" id="compilation-of-np-conserved">
<h2>Compilation of np_conserved<a class="headerlink" href="#compilation-of-np-conserved" title="Permalink to this headline">¶</a></h2>
<p>At the heart of the TeNPy library is the module <code class="xref py py-mod docutils literal notranslate"><span class="pre">tenpy.linalg.np_conseved</span></code>, which provides an Array class to exploit the
conservation of abelian charges. The data model of python is not ideal for the required book-keeping, thus
we have implemented the same np_conserved module in <a class="reference external" href="http://cython.org">Cython</a>.
This allows to compile (and thereby optimize) the corresponding python module, thereby speeding up the execution of the
code. While this might give a significant speed-up for code with small matrix dimensions, don’t expect the same speed-up in
cases where most of the CPU-time is already spent in matrix multiplications (i.e. if the bond dimension of your MPS is huge).</p>
<p>To compile the code, you first need to install <a class="reference external" href="http://cython.org">Cython</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">cython</span>                    <span class="c1"># when using anaconda, or</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">cython</span>       <span class="c1"># when using pip</span>
</pre></div>
</div>
<p>After that, go to the root directory of TeNPy (<code class="docutils literal notranslate"><span class="pre">$HOME/TeNPy</span></code>) and simply run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span> <span class="o">./</span><span class="nb">compile</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>It is not required to separately download (and install) Intel MKL: the compilation just obtains the includes from numpy.
In other words, if your current numpy version uses MKL (as the one provided by anaconda), the compiled TeNPy code will also use it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For further optimization options, look at <a class="reference internal" href="reference/tenpy.tools.optimization.html#module-tenpy.tools.optimization" title="tenpy.tools.optimization"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tenpy.tools.optimization</span></code></a>.</p>
</div>
</div>
<div class="section" id="checking-the-installation">
<h2>Checking the installation<a class="headerlink" href="#checking-the-installation" title="Permalink to this headline">¶</a></h2>
<p>As a first check of the installation you can try to run the python files in the <cite>examples/</cite> subfolder; all of them
should run without error.</p>
<p>You can also run the automated testsuite with <a class="reference external" href="http://nose.readthedocs.io/en/latest/">nose</a> to make sure everything works fine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $HOME/TeNPy/tests
nosetests
</pre></div>
</div>
<p>This should run some tests, hopefully indicated by a lot of dots <code class="docutils literal notranslate"><span class="pre">.</span></code> and
no <code class="docutils literal notranslate"><span class="pre">E</span></code> or <code class="docutils literal notranslate"><span class="pre">F</span></code>, which indicate successfully run tests, errors and failures, respectively.
In case of errors or failures it gives a detailed traceback and possibly some output of the test.
At least the stable releases should run these tests without any failures.</p>
<p>If you can run the examples but not the tests, check whether <cite>nosetests</cite> actually uses the correct python version.</p>
</div>
<div class="section" id="optional-requirements">
<h2>Optional Requirements<a class="headerlink" href="#optional-requirements" title="Permalink to this headline">¶</a></h2>
<p>Some code uses <a class="reference external" href="http://www.matplotlib.org">MatPlotLib</a> for plotting, e.g., to visualize a lattice.
However, having matplotlib is not necessary for running any of the algorithms: tenpy does not <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">matplotlib</span></code> by default.</p>
<p>For building the documentation, you need <a class="reference external" href="http://www.sphinx-doc.org">Sphinx</a> and <a class="reference external" href="http://pypi.python.org/pypi/numpydoc">numpydoc</a>.</p>
<p>If you ever plan to contribute to the code, you should use <a class="reference external" href="http://github.com/google/yapf">yapf</a> and <a class="reference external" href="http://nose.readthedocs.io/en/latest/">nose</a>.</p>
<p>If you have the python package manager <code class="docutils literal notranslate"><span class="pre">pip</span></code>, all of these can be installed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">numpy</span> <span class="n">scipy</span>      <span class="c1"># the required libraries</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">matplotlib</span>       <span class="c1"># for plotting</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">bottleneck</span>       <span class="c1"># some optimization of numpy bottlenecks</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">nose</span>             <span class="c1"># nosetest: automated teseting to check if everything works as it should</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Sphinx</span> <span class="n">numpydoc</span>  <span class="c1"># for building html documentation</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">yapf</span>             <span class="c1"># python formater to unify the code style</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you don’t have super user rights (<code class="docutils literal notranslate"><span class="pre">sudo</span></code>), try <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--upgrade</span> <span class="pre">--user</span> <span class="pre">[packagenames...]</span></code>
instead to install the packages to your home directory.
If you still run into troubles, you might want to check whether the <cite>pip</cite> you call corresponds to the python version
you want to use.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It might just be a temporary problem, but I found that the <cite>pip</cite> version of numpy is incompatible with
the python distribution of anaconda.
If you have installed the intelpython or anaconda distribution, use the <cite>conda</cite> packagemanager instead of <cite>pip</cite> for updating the packages whenever possible!</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation instructions</a><ul>
<li><a class="reference internal" href="#minimal-requirements">Minimal Requirements</a></li>
<li><a class="reference internal" href="#getting-the-source">Getting the source</a></li>
<li><a class="reference internal" href="#minimal-installation-including-tenpy-into-pythonpath">Minimal installation: Including tenpy into PYTHONPATH</a></li>
<li><a class="reference internal" href="#recommendation-for-optimization">Recommendation for optimization</a></li>
<li><a class="reference internal" href="#compilation-of-np-conserved">Compilation of np_conserved</a></li>
<li><a class="reference internal" href="#checking-the-installation">Checking the installation</a></li>
<li><a class="reference internal" href="#optional-requirements">Optional Requirements</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="userguide.html"
                        title="previous chapter">User Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="literature.html"
                        title="next chapter">Literature</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="userguide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="userguide.html#library-overview">Library overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="userguide.html#content">Content</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference/tenpy.html">tenpy package</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="literature.html" title="Literature"
             >next</a> |</li>
        <li class="right" >
          <a href="userguide.html" title="User Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">TeNPy 0.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="userguide.html" >User Guide</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2018, TeNPy Developers.
      Last updated on Feb 18, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>